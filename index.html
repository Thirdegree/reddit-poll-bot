<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Reddit Poll Bot by evansneath</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/main.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>

      <header>
        <h1>Reddit Poll Bot</h1>
        <p>A poll management bot using the Reddit API</p>
      </header>

      <div id="banner">
        <span id="logo"></span>

        <a href="https://github.com/evansneath/reddit-poll-bot" class="button fork"><strong>View On GitHub</strong></a>
        <div class="downloads">
          <span>Downloads:</span>
          <ul>
            <li><a href="https://github.com/evansneath/reddit-poll-bot/zipball/master" class="button">ZIP</a></li>
            <li><a href="https://github.com/evansneath/reddit-poll-bot/tarball/master" class="button">TAR</a></li>
          </ul>
        </div>
      </div><!-- end banner -->

    <div class="wrapper">
      <nav>
        <ul></ul>
      </nav>
      <section>
        <h2>Description</h2>

<p>A poll creation and management bot for Reddit.</p>

<p>Using the Reddit API for communication, this class can create, destroy, and
manage polls for users on the popular social news site, <a href="http://reddit.com">Reddit</a>.</p>

<h2>Author</h2>

<p>Created by <a href="http://github.com/evansneath">Evan Sneath</a>.</p>

<h2>License</h2>

<p>This software licensed under the <a href="http://www.opensource.org/licenses/OSL-3.0">Open Software License v3.0</a>.</p>

<h2>Dependencies</h2>

<p>In order to run, this software requires the following dependencies:</p>

<ul>
<li><a href="http://python.org/">Python 2.7</a></li>
<li><a href="https://github.com/mellort/reddit_api">Reddit API Python Wrapper 1.3.8</a></li>
</ul><p>The class might work with other versions of the dependencies, but they have not been tested.</p>

<h2>Usage</h2>

<p>The Reddit Poll Bot class is easy to use and modify for specific needs. Documentation is kept up-to-date
in the source code. Here are some simple use case examples.</p>

<h3>Creating a new bot and submission</h3>

<p>This creates a new poll and automatically generates body text for the submission using the title, description, and candidates list.</p>

<div class="highlight">
<pre><span class="kn">import</span> <span class="nn">reddit_poll_bot</span>

<span class="c"># connect to reddit api</span>
<span class="n">bot</span> <span class="o">=</span> <span class="n">reddit_poll_bot</span><span class="o">.</span><span class="n">RedditPollBot</span><span class="p">(</span><span class="s">"My poll bot's user-agent id"</span><span class="p">)</span>
<span class="n">bot</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s">'bot_username'</span><span class="p">,</span> <span class="s">'bot_password'</span><span class="p">)</span>

<span class="c"># create the poll</span>
<span class="n">subreddit</span> <span class="o">=</span> <span class="s">'aww'</span>
<span class="n">title</span> <span class="o">=</span> <span class="s">'Vote for the cutest animal!'</span>
<span class="n">description</span> <span class="o">=</span> <span class="s">'Which do you like best?'</span>
<span class="n">candidates</span> <span class="o">=</span> <span class="p">[</span><span class="s">'dog'</span><span class="p">,</span> <span class="s">'cat'</span><span class="p">,</span> <span class="s">'lizard'</span><span class="p">]</span>
<span class="n">bot</span><span class="o">.</span><span class="n">create_poll</span><span class="p">(</span><span class="n">subreddit</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">candidates</span><span class="p">)</span>
</pre>
</div>


<p>Once created, Reddit users may comment on the submission and place their vote by italicizing their 
choice of candidate anywhere in their comment. This is done by surrounding their choice with 
asterisks. For example:</p>

<pre><code>My favorite animals are *lizard*s!
</code></pre>

<h3>Seeing intermittent poll results</h3>

<p>The <code>peek_votes()</code> method of the Reddit Vote Bot can be used to unintrusively see results at any 
time in the polling process. Below is an example where all valid choices and their current voting 
results are printed.</p>

<div class="highlight">
<pre><span class="c"># define valid voting choices</span>
<span class="n">candidates</span> <span class="o">=</span> <span class="p">[</span><span class="s">'dog'</span><span class="p">,</span> <span class="s">'cat'</span><span class="p">,</span> <span class="s">'lizard'</span><span class="p">]</span>
<span class="n">title</span> <span class="o">=</span> <span class="s">'Vote for the cutest animal!'</span>

<span class="c"># print each poll choice and its vote count</span>
<span class="k">for</span> <span class="n">candidate</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">bot</span><span class="o">.</span><span class="n">peek_votes</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">candidates</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">print</span> <span class="s">'choice: '</span> <span class="o">+</span> <span class="n">candidate</span> <span class="o">+</span> <span class="s">' votes: '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>
</pre>
</div>


<h3>Ending a poll and posting the results</h3>

<p>Reddit Vote Bot will automatically tally all of the votes and edit the submission for everyone to see. 
Entering the candidates list restricts accepted entries to those candidates.</p>

<div class="highlight">
<pre><span class="c"># count votes and post the results to the poll</span>
<span class="n">title</span> <span class="o">=</span> <span class="s">'Vote for the cutest animal!'</span>
<span class="n">candidates</span> <span class="o">=</span> <span class="p">[</span><span class="s">'dog'</span><span class="p">,</span> <span class="s">'cat'</span><span class="p">,</span> <span class="s">'lizard'</span><span class="p">]</span>
<span class="n">bot</span><span class="o">.</span><span class="n">post_votes</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">candidates</span><span class="p">,</span> <span class="n">show_winner</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre>
</div>


<h3>Deleting a poll</h3>

<p>This removes the poll submission from Reddit.</p>

<div class="highlight">
<pre><span class="c"># delete this poll forever</span>
<span class="n">bot</span><span class="o">.</span><span class="n">delete_poll</span><span class="p">(</span><span class="s">'Vote for the cutest animal!'</span><span class="p">)</span>
</pre>
</div>

      </section>
      <footer>
        <p>Project maintained by <a href="https://github.com/evansneath">evansneath</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="http://twitter.com/#!/michigangraham">mattgraham</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
    
  </body>
</html>